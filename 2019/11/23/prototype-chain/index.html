<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN,default">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="ç›®å½•    ç®€ä»‹ æˆ‘ä»¬çš„ç›®æ ‡ å¯¹è±¡ Object Literal å¯¹è±¡å­—é¢é‡ Object.create   æ›´åŠ è‡ªåŠ¨åŒ– Factory Functions å·¥å‚å‡½æ•° OLOO - Objects Linked To Other Objects å¯¹è±¡å§”æ‰˜ new æ“ä½œç¬¦ä¸æ„é€ å‡½æ•°   Class å£°æ˜ä¸€ä¸ªç±» å†™ä¸€ä¸ªconstructor ä¸º ç±» æ·»åŠ å‡½æ•°   ç»§æ‰¿ å¯¹è±¡å§”æ‰˜ - ç»§æ‰¿ æ„é€ å‡½æ•° -">
<meta property="og:type" content="article">
<meta property="og:title" content="æ·±å…¥JavaScriptçš„åŸå‹é“¾ç³»ç»Ÿï¼ˆè¯‘ï¼‰.md">
<meta property="og:url" content="http://yoursite.com/2019/11/23/prototype-chain/index.html">
<meta property="og:site_name" content="Big7lion&#39;s Page">
<meta property="og:description" content="ç›®å½•    ç®€ä»‹ æˆ‘ä»¬çš„ç›®æ ‡ å¯¹è±¡ Object Literal å¯¹è±¡å­—é¢é‡ Object.create   æ›´åŠ è‡ªåŠ¨åŒ– Factory Functions å·¥å‚å‡½æ•° OLOO - Objects Linked To Other Objects å¯¹è±¡å§”æ‰˜ new æ“ä½œç¬¦ä¸æ„é€ å‡½æ•°   Class å£°æ˜ä¸€ä¸ªç±» å†™ä¸€ä¸ªconstructor ä¸º ç±» æ·»åŠ å‡½æ•°   ç»§æ‰¿ å¯¹è±¡å§”æ‰˜ - ç»§æ‰¿ æ„é€ å‡½æ•° -">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://res.cloudinary.com/practicaldev/image/fetch/s--ICx1kq90--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vj4xvfh8h5ycotygt923.gif">
<meta property="og:updated_time" content="2019-11-23T16:35:59.464Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ·±å…¥JavaScriptçš„åŸå‹é“¾ç³»ç»Ÿï¼ˆè¯‘ï¼‰.md">
<meta name="twitter:description" content="ç›®å½•    ç®€ä»‹ æˆ‘ä»¬çš„ç›®æ ‡ å¯¹è±¡ Object Literal å¯¹è±¡å­—é¢é‡ Object.create   æ›´åŠ è‡ªåŠ¨åŒ– Factory Functions å·¥å‚å‡½æ•° OLOO - Objects Linked To Other Objects å¯¹è±¡å§”æ‰˜ new æ“ä½œç¬¦ä¸æ„é€ å‡½æ•°   Class å£°æ˜ä¸€ä¸ªç±» å†™ä¸€ä¸ªconstructor ä¸º ç±» æ·»åŠ å‡½æ•°   ç»§æ‰¿ å¯¹è±¡å§”æ‰˜ - ç»§æ‰¿ æ„é€ å‡½æ•° -">
<meta name="twitter:image" content="https://res.cloudinary.com/practicaldev/image/fetch/s--ICx1kq90--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vj4xvfh8h5ycotygt923.gif">





  
  
  <link rel="canonical" href="http://yoursite.com/2019/11/23/prototype-chain/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>æ·±å…¥JavaScriptçš„åŸå‹é“¾ç³»ç»Ÿï¼ˆè¯‘ï¼‰.md | Big7lion's Page</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Big7lion's Page</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  
    <div class="reading-progress-bar"></div>
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/23/prototype-chain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="biglion">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://avatars0.githubusercontent.com/u/21300991?s=460&v=4">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Big7lion's Page">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">æ·±å…¥JavaScriptçš„åŸå‹é“¾ç³»ç»Ÿï¼ˆè¯‘ï¼‰.md

              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-11-23 18:27:45" itemprop="dateCreated datePublished" datetime="2019-11-23T18:27:45+08:00">2019-11-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-11-24 00:35:59" itemprop="dateModified" datetime="2019-11-24T00:35:59+08:00">2019-11-24</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/JS/" itemprop="url" rel="index"><span itemprop="name">JS</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2><span id="mu-lu">ç›®å½•</span><a href="#mu-lu" class="header-anchor">#</a></h2><div class="toc">

<!-- toc -->
<ul>
<li><a href="#jian-jie">ç®€ä»‹</a></li>
<li><a href="#wo-men-de-mu-biao">æˆ‘ä»¬çš„ç›®æ ‡</a></li>
<li><a href="#dui-xiang">å¯¹è±¡</a><ul>
<li><a href="#object-literal-dui-xiang-zi-mian-liang">Object Literal å¯¹è±¡å­—é¢é‡</a></li>
<li><a href="#object-create">Object.create</a></li>
</ul>
</li>
<li><a href="#geng-jia-zi-dong-hua">æ›´åŠ è‡ªåŠ¨åŒ–</a><ul>
<li><a href="#factory-functions-gong-han-han-shu">Factory Functions å·¥å‚å‡½æ•°</a></li>
<li><a href="#oloo-objects-linked-to-other-objects-dui-xiang-wei-tuo">OLOO - Objects Linked To Other Objects å¯¹è±¡å§”æ‰˜</a></li>
<li><a href="#new-cao-zuo-fu-yu-gou-zao-han-shu"><code>new</code> æ“ä½œç¬¦ä¸æ„é€ å‡½æ•°</a></li>
</ul>
</li>
<li><a href="#class">Class</a><ul>
<li><a href="#sheng-ming-yi-ge-lei">å£°æ˜ä¸€ä¸ªç±»</a></li>
<li><a href="#xie-yi-ge-constructor">å†™ä¸€ä¸ªconstructor</a></li>
<li><a href="#wei-lei-tian-jia-han-shu">ä¸º <code>ç±»</code> æ·»åŠ å‡½æ•°</a></li>
</ul>
</li>
<li><a href="#ji-cheng">ç»§æ‰¿</a><ul>
<li><a href="#dui-xiang-wei-tuo-ji-cheng">å¯¹è±¡å§”æ‰˜ - ç»§æ‰¿</a></li>
<li><a href="#gou-zao-han-shu-ji-cheng">æ„é€ å‡½æ•° - ç»§æ‰¿</a></li>
<li><a href="#lei-ji-cheng">ç±» - ç»§æ‰¿</a></li>
</ul>
</li>
<li><a href="#zong-jie">æ€»ç»“</a></li>
<li><a href="#yi-zhe-zhu">è¯‘è€…æ³¨</a></li>
</ul>
<!-- tocstop -->
</div>

<h2><span id="jian-jie">ç®€ä»‹</span><a href="#jian-jie" class="header-anchor">#</a></h2><p>æœ¬æ–‡ç¿»è¯‘è‡ª <a href="https://www.debuggr.io/js-prototype-in-depth/" target="_blank" rel="noopener">JavaScript - The prototype chain in depth</a></p>
<p>æœ¬æ–‡ä¸»è¦é˜è¿°äº†JavaScriptçš„ <code>åŸå‹é“¾</code> ä¸ <code>ç»§æ‰¿</code> çš„æ¦‚å¿µï¼›ä½ å°†äº†è§£åˆ°ï¼š</p>
<ol>
<li>ä¸€ä¸ªå¯¹è±¡æ˜¯å¦‚ä½•é“¾æ¥åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„</li>
<li><code>ç»§æ‰¿</code> æ˜¯å¦‚ä½•å®ç°çš„</li>
<li>è¿™äº›å¯¹è±¡ä¹‹é—´çš„å…³ç³»æ˜¯å¦‚ä½•çš„</li>
</ol>
<a id="more"></a>
<h2><span id="wo-men-de-mu-biao">æˆ‘ä»¬çš„ç›®æ ‡</span><a href="#wo-men-de-mu-biao" class="header-anchor">#</a></h2><p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬çš„ç¼–å†™ä»£ç æ—¶çš„ä¸»è¦ä»»åŠ¡é€šå¸¸æ˜¯å¤„ç†æ•°æ®ï¼šå°†ä¸€äº›ç›¸å…³è”çš„æ•°æ®å­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ä½œä¸ºæ•°æ®é›†ï¼Œå†å¯¹æ•°æ®é›†æ‰§è¡Œæ“ä½œã€‚</p>
<p>å°†æ“ä½œå’Œä¸æ•°æ®é›†ç»‘å®šåœ¨ä¸€èµ·ï¼Œèƒ½è®©ç¼–ç¨‹æ€è·¯æ›´ä¸ºæ¸…æ™°ï¼›ä¾‹å¦‚ä¸€ä¸ª <code>Player</code> å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  userName: <span class="string">'sag1v'</span>,</span><br><span class="line">  score: <span class="string">'700'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½•æ‰§è¡Œä¸€ä¸ªæ“ä½œæ¥æ”¹å˜å…¶ä¸­ <code>score</code> çš„å€¼ï¼Ÿåº”è¯¥å¦‚ä½•å£°æ˜ä¸€ä¸ª <code>setScore</code> å‡½æ•°æ–¹æ³•ï¼Ÿ</p>
<h2><span id="dui-xiang">å¯¹è±¡</span><a href="#dui-xiang" class="header-anchor">#</a></h2><p>æˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¯¹è±¡æ¥å­˜å‚¨ä¸€äº›æœ‰å…³è”çš„æ•°æ®ï¼Œç±»ä¼¼äºå°†ä¸€äº›ç›¸å…³è”çš„ç‰©ä½“æ”¾è¿›ä¸€ä¸ªå®¹å™¨ä¸­ï¼›</p>
<p>åœ¨æ·±å…¥è§£æä¹‹å‰ï¼Œé¦–å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯ <code>Objectï¼ˆå¯¹è±¡ï¼‰</code> ä»¥åŠåˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹æ³•ã€‚</p>
<h3><span id="object-literal-dui-xiang-zi-mian-liang">Object Literal å¯¹è±¡å­—é¢é‡</span><a href="#object-literal-dui-xiang-zi-mian-liang" class="header-anchor">#</a></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> player1 = &#123;</span><br><span class="line">  userName: <span class="string">'sag1v'</span>,</span><br><span class="line">  score: <span class="string">'700'</span>,</span><br><span class="line">  setScore(newScore)&#123;</span><br><span class="line">    player1.score = newScore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šè¿™ç§åˆå§‹åŒ–ä¸€ä¸ªå¯¹è±¡çš„å†™æ³•è¢«ç§°ä¸ºï¼šå¯¹è±¡å­—é¢é‡ï¼›æ¯å½“æ‰§è¡Œè¿™æ ·çš„è¯­å¥ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>
<p>é€šè¿‡ <code>.</code> æ“ä½œç¬¦æˆ– <code>[]</code> æ“ä½œç¬¦ï¼Œä¹Ÿéƒ½å¯ä»¥åˆ›å»ºæˆ–è®¿é—®å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> player1 = &#123;</span><br><span class="line">  name: <span class="string">'Sagiv'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">player1.userName = <span class="string">'sag1v'</span>;</span><br><span class="line">player1[<span class="string">'score'</span>] = <span class="number">700</span>;</span><br><span class="line">player1.setScore = <span class="function"><span class="keyword">function</span>(<span class="params">newScore</span>) </span>&#123;</span><br><span class="line">  player1.score = newScore;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="object-create">Object.create</span><a href="#object-create" class="header-anchor">#</a></h3><p>å¦ä¸€ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <code>Object.create</code> å‡½æ•°:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> player1 = <span class="built_in">Object</span>.create(<span class="literal">null</span>)</span><br><span class="line">player1.userName = <span class="string">'sag1v'</span>;</span><br><span class="line">player1[<span class="string">'score'</span>] = <span class="number">700</span>;</span><br><span class="line">player1.setScore = <span class="function"><span class="keyword">function</span>(<span class="params">newScore</span>) </span>&#123;</span><br><span class="line">  player1.score = newScore;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Object.create</code> æ€»æ˜¯ä¼šè¿”å›ä¸€ä¸ª<strong>ç©ºå¯¹è±¡</strong>ï¼Œä½†å¦‚æœè°ƒç”¨æ—¶ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªâ€œç‰¹åˆ«â€çš„ç©ºå¯¹è±¡ï¼ˆåœ¨åæ–‡è¯´æ˜å…¶â€œç‰¹åˆ«â€ä¹‹å¤„ï¼‰ï¼›</p>
<h2><span id="geng-jia-zi-dong-hua">æ›´åŠ è‡ªåŠ¨åŒ–</span><a href="#geng-jia-zi-dong-hua" class="header-anchor">#</a></h2><p>æ¯æ¬¡éƒ½é€šè¿‡åƒä¸Šæ–‡ä»£ç é‚£æ ·å»æ‰‹åŠ¨ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸åˆ’ç®—ï¼Œæ‰€ä»¥æ­¤æ—¶éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥å¸®åŠ©æˆ‘ä»¬åˆ›å»º <code>Player</code> å¯¹è±¡ã€‚</p>
<h3><span id="factory-functions-gong-han-han-shu">Factory Functions å·¥å‚å‡½æ•°</span><a href="#factory-functions-gong-han-han-shu" class="header-anchor">#</a></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPlayer</span>(<span class="params">userName, score</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> newPlayer = &#123;</span><br><span class="line">    userName,</span><br><span class="line">    score,</span><br><span class="line">    setScore(newScore) &#123;</span><br><span class="line">      newPlayer.score = newScore;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newPlayer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = createPlayer(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br></pre></td></tr></table></figure>
<p>è¿™ç§åˆ›å»ºæ–¹æ³•åœ¨è®¾è®¡æ¨¡å¼ä¸­è¢«ç§°ä¸º â€œå·¥å‚æ¨¡å¼â€ï¼›å°±åƒå·¥å‚ä¸­è¾“å‡ºç‰©ä½“çš„ä¼ é€å¸¦ä¸€æ ·ï¼Œå°†ç›¸å…³çš„å‚æ•°ä¼ å…¥ <code>createPlayer</code> å‡½æ•°ï¼Œå°±èƒ½å¾—åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ã€‚</p>
<p>å½“æ‰§è¡Œä¸¤æ¬¡ <code>createPlayer</code> å‡½æ•°ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> player1 = createPlayer(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> player2 = createPlayer(<span class="string">'sarah'</span>, <span class="number">900</span>);</span><br></pre></td></tr></table></figure>
<p><a name="fatory-function-goal"></a></p>
<p>ç”Ÿæˆäº†å¦‚ä¸‹ä¸¤ä¸ªå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  userName: <span class="string">'sag1v'</span>,</span><br><span class="line">  score: <span class="number">700</span>,</span><br><span class="line">  setScore: Æ’</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  userName: <span class="string">'sarah'</span>,</span><br><span class="line">  score: <span class="number">900</span>,</span><br><span class="line">  setScore: Æ’</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°å­˜åœ¨ä¸€äº›é‡å¤çš„éƒ¨åˆ†ï¼šåœ¨æ¯ä¸ªå¯¹è±¡å®ä¾‹ä¸­éƒ½å­˜åœ¨ç›¸åŒçš„ <code>setScore</code> æ–¹æ³•ï¼Œè¿™è¿åäº†ç¼–ç¨‹ä¸­çš„ <strong>D.R.Y(Donâ€™t Repeat Yourself)</strong> æ³•åˆ™ã€‚</p>
<p>é‚£å¦‚ä½•åšåˆ°åªåœ¨æŸå¤„åªå­˜å‚¨ä¸€æ¬¡ï¼Œä½†ä»ç„¶èƒ½å¤Ÿé€šè¿‡å‡½æ•°å®ä¾‹æ¥æ‰§è¡Œ <code>setScore</code> å‘¢ï¼Ÿï¼ˆå½¢å¦‚ï¼š<code>player1.setScore(1000)</code>ï¼‰ã€‚</p>
<h3><span id="oloo-objects-linked-to-other-objects-dui-xiang-wei-tuo">OLOO - Objects Linked To Other Objects å¯¹è±¡å§”æ‰˜</span><a href="#oloo-objects-linked-to-other-objects-dui-xiang-wei-tuo" class="header-anchor">#</a></h3><p>é‡æ–°å›åˆ° <code>Object.create</code> è¿™ä¸ªè¯é¢˜ï¼Œå®ƒæ€»æ˜¯ä¼šåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œè€Œå®ƒçš„â€œç‰¹æ®Šâ€ä¹‹å¤„å°±åœ¨äºå½“æˆ‘ä»¬å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå®ƒçš„å‚æ•°æ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªæœ‰â€œç‰¹æ®Šâ€å±æ€§çš„ç©ºå¯¹è±¡ï¼Œå¦‚ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> playerFunctions = &#123;</span><br><span class="line">  setScore(newScore) &#123;</span><br><span class="line">    <span class="keyword">this</span>.score = newScore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPlayer</span>(<span class="params">userName, score</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> newPlayer = <span class="built_in">Object</span>.create(playerFunctions);</span><br><span class="line">  newPlayer.userName = userName;</span><br><span class="line">  newPlayer.score = score;</span><br><span class="line">  <span class="keyword">return</span> newPlayer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = createPlayer(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> player2 = createPlayer(<span class="string">'sarah'</span>, <span class="number">900</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸ºå¯¹è±¡å§”æ‰˜ï¼Œå®ƒä¸å·¥å‚æ¨¡å¼æœ€ä¸ºé‡è¦çš„åŒºåˆ«åœ¨äºï¼šå¯¹è±¡å§”æ‰˜æ¨¡å¼æ‰€åˆ›å»ºçš„å¯¹è±¡è‡ªèº«å†…éƒ¨å¹¶æ²¡æœ‰ <code>setScore</code> æ–¹æ³•ï¼Œ ä½†è¿™ä¸ªå¯¹è±¡é“¾æ¥åˆ°äº† <code>playerFunctions</code> æ–¹æ³•ã€‚</p>
<p>åŸæ¥ï¼Œä»»æ„ä¸€ä¸ªJavaScriptå¯¹è±¡ï¼ˆç§°ä¸ºå¯¹è±¡Aï¼‰éƒ½æœ‰ä¸€ä¸ªç§°ä¸º <code>__proto__</code> çš„éšè—å±æ€§ï¼Œå¹¶ä¸”ï¼Œè¿™ä¸ªå±æ€§çš„å€¼å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆç§°ä¸ºå¯¹è±¡Bï¼‰ï¼ŒJavaScriptè§£é‡Šå™¨ä¼šå°†å¯¹è±¡Bçš„æ‰€æœ‰å±æ€§ï¼Œä¹Ÿå½“ä½œåŸå¯¹è±¡Açš„å±æ€§ï¼›æ¢å¥è¯æ¥è¯´ï¼Œå¯¹è±¡Aèƒ½é€šè¿‡ <code>__proto__</code> åƒè®¿é—®è‡ªå·±çš„å±æ€§ä¸€æ ·è®¿é—®åˆ°å¯¹è±¡Bçš„å±ï¼›</p>
<p>âš ï¸ Note<br>  ä¸è¦æ··æ·†äº† <code>__proto__</code> å’Œ <code>prototype</code>ï¼Œ<code>prototype</code> åªå­˜åœ¨äºå‡½æ•°ä¸­ï¼›è€Œ <code>__proto__</code>åªå­˜åœ¨äºå¯¹è±¡ä¸­<sub>ï¼ˆè¯‘è€…æ³¨ï¼šè€Œå‡½æ•°æ˜¯ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿæœ‰ <code>__proto__</code>ï¼‰</sub>ã€‚</p>
<p>ä»¥ä¸‹æ˜¯è¯­ä¹‰æ›´æ˜“äºç†è§£çš„ä»£ç ç¤ºä¾‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> playerFunctions = &#123;</span><br><span class="line">  setScore(newScore) &#123;</span><br><span class="line">    <span class="keyword">this</span>.score = newScore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPlayer</span>(<span class="params">userName, score</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> newPlayer = <span class="built_in">Object</span>.create(playerFunctions);</span><br><span class="line">  newPlayer.userName = userName;</span><br><span class="line">  newPlayer.score = score;</span><br><span class="line">  <span class="keyword">return</span> newPlayer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = createPlayer(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> player2 = createPlayer(<span class="string">'sarah'</span>, <span class="number">900</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(player1)</span><br><span class="line"><span class="built_in">console</span>.log(player2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºçš„å†…å®¹:</span></span><br><span class="line"></span><br><span class="line">player1: &#123;</span><br><span class="line">  userName: <span class="string">'sag1v'</span>,</span><br><span class="line">  score: <span class="number">700</span>,</span><br><span class="line">  __proto__: playerFunctions</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">player2: &#123;</span><br><span class="line">  userName: <span class="string">'sarah'</span>,</span><br><span class="line">  score: <span class="number">900</span>,</span><br><span class="line">  __proto__: playerFunctions</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ„å‘³ç€, <code>player1</code> å’Œ <code>player2</code> éƒ½å¯ä»¥å€ŸåŠ© <code>__proto__</code> çš„ç‰¹æ€§, ç›´æ¥è®¿é—®åˆ° <code>playerFunctions</code> é‡Œçš„å±æ€§, ä¹Ÿå°±æ˜¯è¯´, å®ƒä»¬éƒ½å¯ä»¥æ‰§è¡Œ <code>setScore</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">player1.setScore(<span class="number">1000</span>);</span><br><span class="line">player2.setScore(<span class="number">2000</span>);</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬è¾¾åˆ°äº†åœ¨<a href="#fatory-function-goal">å·¥å‚æ¨¡å¼ç« èŠ‚çš„æœ«å°¾æ‰€è¯´çš„ç›®æ ‡</a>, ä¸€ä¸ªéµå®ˆäº†D.R.Yæ³•åˆ™, åŒæ—¶èƒ½è®¿é—®åˆ°æ•°æ®å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚</p>
<p>ç®€å•æ€»ç»“æœ¬èŠ‚å†…å®¹æ¥çœ‹, åˆ›å»ºä¸€ä¸ªå­˜åœ¨åŸå‹çš„å¯¹è±¡, æˆ‘ä»¬éœ€è¦åšä»¥ä¸‹æ­¥éª¤:</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ª <strong>å¯¹è±¡B</strong>, åŒ…å«å¤„ç† <strong>å¯¹è±¡A</strong> æ•°æ®çš„æ–¹æ³•</li>
<li>éœ€è¦é€šè¿‡ <code>Object.create</code> åˆ›å»º <strong>å¯¹è±¡A</strong>, åŒæ—¶å°† <strong>å¯¹è±¡B</strong> é“¾æ¥åˆ° <strong>å¯¹è±¡A</strong> çš„ <code>__proto__</code> ä¸Š</li>
<li>æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç»™æ–°å¯¹è±¡ <strong>å¯¹è±¡A</strong> åˆå§‹åŒ–å„ç§å±æ€§(å³æ•°æ®)</li>
</ol>
<p>å¦‚ä½•è®©JavaScriptæœ¬èº«å¸®æˆ‘ä»¬åšä»¥ä¸Šè¿™å‡ ä¸ªæ­¥éª¤ä¸­çš„ä¸€äº›éƒ¨åˆ†å‘¢?</p>
<h3><span id="new-cao-zuo-fu-yu-gou-zao-han-shu"><code>new</code> æ“ä½œç¬¦ä¸æ„é€ å‡½æ•°</span><a href="#new-cao-zuo-fu-yu-gou-zao-han-shu" class="header-anchor">#</a></h3><p>æˆ‘ä»¬ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦å³å¯å›ç­”ä¸Šä¸€é—®, ä½†åœ¨å¼€å§‹é˜è¿°å‰, è®©æˆ‘ä»¬æ˜ç¡®ä¸€ä¸‹: ä»€ä¹ˆæ˜¯å‡½æ•°?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">double</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double.someProp = <span class="string">'Hi there!'</span>;</span><br><span class="line"></span><br><span class="line">double(<span class="number">5</span>); <span class="comment">// 10</span></span><br><span class="line">double.someProp <span class="comment">// Hi there!</span></span><br><span class="line"></span><br><span class="line">double.prototype <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure>
<p>å‡½æ•°å¯ä»¥ç”±æˆ‘ä»¬å®šä¹‰, å¯ä»¥é€šè¿‡æ‹¬å· <code>()</code> è°ƒç”¨ã€‚ä½†ä»ä¸Šé¢çš„ä¾‹å­, æˆ‘ä»¬å¯ä»¥è®¿é—®å‡½æ•°çš„å±æ€§, ä¹Ÿå¯ä»¥ä¸ºå‡½æ•°åˆ›å»ºå±æ€§, çœ‹ä¸Šå»å’Œæ™®é€šçš„å¯¹è±¡éå¸¸ç±»ä¼¼, æ‰€ä»¥å‡½æ•°å¯ä»¥è¢«å½“ä½œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ã€‚</p>
<h4><span id="prototype-shu-xing"><code>prototype</code> å±æ€§</span><a href="#prototype-shu-xing" class="header-anchor">#</a></h4><p>æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ <code>prototype</code> å±æ€§(é™¤äº†<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions#Use_of_prototype_property" target="_blank" rel="noopener">ç®­å¤´å‡½æ•°</a>), åŒæ—¶é‡ç”³ä¸€ä¸‹è¿™ä¸ªå°Tips:</p>
<blockquote>
<p>Not <code>__proto__</code> or <code>[[Prototype]]</code>, but <code>prototype</code>.</p>
</blockquote>
<p>å†çœ‹å›åˆ° <code>new</code> æ“ä½œç¬¦å’Œæ„é€ å‡½æ•°;</p>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ç¼–å†™ä¸€ä¸ªæ„é€ å‡½æ•°å’Œä½¿ç”¨ <code>new</code> æ“ä½œç¬¦:</p>
<p>âš ï¸ å¦‚æœä½ è¿˜æ²¡æœ‰100%ç¡®å®šä½ ç†è§£äº† <code>this</code> å…³é”®å­—, ä½ åº”è¯¥å»è¯»ä¸€è¯» <a href="https://www.debuggr.io/js-this-in-depth/" target="_blank" rel="noopener">JavaScript - The â€œthisâ€ key word in depth</a><br><sub>(è¯‘è€…æ³¨: <a href="https://zhuanlan.zhihu.com/p/23804247" target="_blank" rel="noopener">this çš„å€¼åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</a> å’Œ <a href="https://zhuanlan.zhihu.com/p/23987456" target="_blank" rel="noopener">JS çš„ new åˆ°åº•æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</a> æ¨ä¸€ä¸‹è¿™ä¸¤ç¯‡)</sub></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Player</span>(<span class="params">userName, score</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.userName = userName;</span><br><span class="line">  <span class="keyword">this</span>.score = score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Player.prototype.setScore = <span class="function"><span class="keyword">function</span>(<span class="params">newScore</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.score = newScore;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = <span class="keyword">new</span> Player(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> player2 = <span class="keyword">new</span> Player(<span class="string">'sarah'</span>, <span class="number">900</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(player1)</span><br><span class="line"><span class="built_in">console</span>.log(player2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºçš„å†…å®¹:</span></span><br><span class="line"></span><br><span class="line">Player &#123;</span><br><span class="line">  userName: <span class="string">"sag1v"</span>,</span><br><span class="line">  score: <span class="number">700</span>,</span><br><span class="line">  __proto__: Player.prototype</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Player &#123;</span><br><span class="line">  userName: <span class="string">"sarah"</span>,</span><br><span class="line">  score: <span class="number">900</span>,</span><br><span class="line">  __proto__: Player.prototype</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="zhu-xing-fen-xi-yi-xia-dai-ma">é€è¡Œåˆ†æä¸€ä¸‹ä»£ç </span><a href="#zhu-xing-fen-xi-yi-xia-dai-ma" class="header-anchor">#</a></h4><p>æˆ‘ä»¬é€šè¿‡ <code>new</code> æ“ä½œç¬¦æ‰§è¡Œäº† <code>Player</code> å‡½æ•° (æç¤º: è¿™é‡Œå°†<code>createPlayer</code>é‡å‘½åä¸º<code>Player</code>ä»…ä»…æ˜¯å› ä¸ºè¿™æ ·ç¬¦åˆå¼€å‘è€…çš„çº¦å®š) , è¿™ä¹Ÿæ ‡å¿—ç€ <code>Player</code> å‡½æ•°æ˜¯ä¸€ä¸ªåº”è¯¥é€šè¿‡ <code>new</code> æ“ä½œç¬¦æ‰§è¡Œçš„ <strong>æ„é€ å‡½æ•°</strong>ã€‚</p>
<p>å½“é€šè¿‡ <code>new</code> æ“ä½œç¬¦æ‰§è¡Œ <strong>æ„é€ å‡½æ•°</strong>, JavaScriptå¸®æˆ‘ä»¬åšäº†è¿™å››ä»¶äº‹:</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸´æ—¶å¯¹è±¡</li>
<li>å°†è¿™ä¸ªä¸´æ—¶å¯¹è±¡ç»‘å®šåˆ° <code>thisä¸Šä¸‹æ–‡</code></li>
<li>å¸®ä½ ç»‘å®šåŸå‹: ä¸´æ—¶å¯¹è±¡çš„ <code>__proto__</code> æŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code> (å³ <code>Player</code> çš„ <code>prototype</code>)</li>
<li>è¿”å›è¿™ä¸ªä¸´æ—¶å¯¹è±¡</li>
</ol>
<p>å¦‚æœè¦æˆ‘ä»¬è‡ªå·±æ¥å®ç°ä¸Šè¿°æ­¥éª¤, ä»£ç çœ‹èµ·æ¥ä¼šåƒä¸‹é¢è¿™æ ·:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Player</span>(<span class="params">userName, score</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span> = &#123;&#125; <span class="comment">// âš ï¸ done by JavaScript</span></span><br><span class="line">  <span class="keyword">this</span>.__proto__ = Player.prototype <span class="comment">// âš ï¸ done by JavaScript</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.userName = userName;</span><br><span class="line">  <span class="keyword">this</span>.score = score;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span> <span class="comment">// âš ï¸ done by JavaScript</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ç¬¬ä¸‰è¡Œä»£ç : </p>
<blockquote>
<p>å°†ä¸´æ—¶å¯¹è±¡çš„ <code>__proto__</code> æŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code></p>
</blockquote>
<p>è¿™ä»£è¡¨ç€æˆ‘ä»¬å¯ä»¥æŠŠä»»æ„å‡½æ•°éƒ½æŒ‚è½½åˆ° <code>Player.prototype</code>, è¿™æ ·æ–°çš„å¯¹è±¡å°±å¯ä»¥è®¿é—®åˆ°è¿™äº›å‡½æ•°, è¿™ä¸€æ­¥ä¹Ÿå°±æ˜¯ç¤ºä¾‹ä¸­çš„è¿™è¡Œä»£ç : </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Player.prototype.setScore = <span class="function"><span class="keyword">function</span>(<span class="params">newScore</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.score = newScore;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯é€šè¿‡æ„é€ å‡½æ•°æ¥å®ç°åŸå‹é“¾çš„é“¾æ¥;</p>
<p>é™¤æ­¤ä¹‹å¤–, ä¸‹é¢ä»£ç èƒ½ç¡®ä¿æ„é€ å‡½æ•°æ˜¯é€šè¿‡ <code>new</code> æ“ä½œç¬¦æ¥è°ƒç”¨çš„:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Player</span>(<span class="params">username, score</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(!(<span class="keyword">this</span> <span class="keyword">instanceof</span> Player))&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Player must be called with new'</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ES2015 syntax</span></span><br><span class="line">  <span class="keyword">if</span>(!<span class="keyword">new</span>.target)&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Player must be called with new'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="class">Class</span><a href="#class" class="header-anchor">#</a></h2><p>å¦‚æœä½ ä¸å–œæ¬¢æ‰‹å†™å·¥å‚æ¨¡å¼, ä¹Ÿä¸ä¸­æ„æ„é€ å‡½æ•°, ä½†æ˜¯è¿˜æ˜¯æƒ³ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦, JavaScript æä¾›äº† <code>ç±»(class)</code> (ä» ES2015 èµ·), å½“ç„¶, <code>ç±»</code> å®è´¨ä¸Šåªæ˜¯ä¸€ç§æ„é€ å‡½æ•°çš„è¯­æ³•ç³–, å®ƒä¸å…¶ä»–è¯­è¨€é‡Œä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ <code>ç±»</code> ä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äº: å®ƒè¿˜æœ‰ç€ <code>åŸå‹é“¾ç»§æ‰¿</code></p>
<p>å¼•ç”¨è‡ª <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener">MDN</a></p>
<blockquote>
<p>JavaScript classes, introduced in ECMAScript 2015, are primarily syntactical sugar over JavaScriptâ€™s existing prototype-based inheritance. The class syntax does not introduce a new object-oriented inheritance model to JavaScript.</p>
</blockquote>
<p>è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æŠŠæ„é€ å‡½æ•°è½¬åŒ–æˆ <code>ç±»</code>:</p>
<h3><span id="sheng-ming-yi-ge-lei">å£°æ˜ä¸€ä¸ªç±»</span><a href="#sheng-ming-yi-ge-lei" class="header-anchor">#</a></h3><p>é€šè¿‡ <code>class</code> å…³é”®å­—æ¥å£°æ˜ (æ­¤å¤„å‘½åå’Œå‰æ–‡ä¸­çš„æ„é€ å‡½æ•°ä¸€è‡´)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="xie-yi-ge-constructor">å†™ä¸€ä¸ªconstructor</span><a href="#xie-yi-ge-constructor" class="header-anchor">#</a></h3><p>å°†å‰æ–‡æ„é€ å‡½æ•°çš„å†…å®¹ç§»æ¤åˆ° <code>constructor</code> å‡½æ•°å†…:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(userName, score) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    <span class="keyword">this</span>.score = score;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="wei-lei-tian-jia-han-shu">ä¸º <code>ç±»</code> æ·»åŠ å‡½æ•°</span><a href="#wei-lei-tian-jia-han-shu" class="header-anchor">#</a></h3><p>å°†å‰æ–‡ <code>Player.prototype</code> é‡Œçš„å‡½æ•°éƒ½ç§»æ¤åˆ° <code>ç±»</code> å†…:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(userName, score) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    <span class="keyword">this</span>.score = score;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setScore(newScore) &#123;</span><br><span class="line">    <span class="keyword">this</span>.score = newScore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹ä¸ºå®Œæ•´ä»£ç : </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(userName, score) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    <span class="keyword">this</span>.score = score;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setScore(newScore) &#123;</span><br><span class="line">    <span class="keyword">this</span>.score = newScore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = <span class="keyword">new</span> Player(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> player2 = <span class="keyword">new</span> Player(<span class="string">'sarah'</span>, <span class="number">900</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(player1)</span><br><span class="line"><span class="built_in">console</span>.log(player2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºä¸ä¹‹å‰çš„æ„é€ å‡½æ•°ä¸€è‡´</span></span><br><span class="line"></span><br><span class="line">Player &#123;</span><br><span class="line">  userName: <span class="string">"sag1v"</span>,</span><br><span class="line">  score: <span class="number">700</span>,</span><br><span class="line">  __proto__: Player.prototype</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Player &#123;</span><br><span class="line">  userName: <span class="string">"sarah"</span>,</span><br><span class="line">  score: <span class="number">900</span>,</span><br><span class="line">  __proto__: Player.prototype</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°, <code>ç±»</code> åœ¨åŸå‹é“¾ä¸Šæ‰€æ‰§è¡Œçš„æ“ä½œä¸æ„é€ å‡½æ•°å¹¶æ— å·®åˆ«, ä»…ä»…æ˜¯è¯­æ³•ä¸Šçš„åŒºåˆ«, åŒæ—¶ <code>ç±»</code> è‡ªå¸¦äº†æ˜¯å¦ç”± <code>new</code> è°ƒç”¨çš„éªŒè¯ã€‚</p>
<h2><span id="ji-cheng">ç»§æ‰¿</span><a href="#ji-cheng" class="header-anchor">#</a></h2><p>å¦‚æœæƒ³è¦å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„ <code>Player</code>, ä»–æ˜¯é‚£ç§æ°ªé‡‘ç©å®¶, è§£é”äº†æ™®é€š <code>Player</code> æ‰€æ²¡æœ‰çš„ç‰¹æ€§, æ¯”å¦‚èƒ½ä¿®æ”¹è‡ªå·±çš„ç”¨æˆ·å, é‚£åº”è¯¥æ€ä¹ˆåšå‘¢?</p>
<p>æˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬çš„éœ€æ±‚åˆ—å‡ºæ¥:</p>
<ol>
<li>éœ€è¦ä¸€ä¸ªæ™®é€šç”¨æˆ·, ä»–æœ‰ç€ <code>userName</code>, <code>score</code> å±æ€§å’Œ <code>setScore</code> æ–¹æ³•;</li>
<li>æˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€ä¸ªæ°ªé‡‘ç”¨æˆ·, ä»–é™¤äº†æ™®é€šç©å®¶æœ‰çš„ä¸œè¥¿å¤– (å³ä¸º <strong>ç»§æ‰¿</strong> äº†æ™®é€šç©å®¶), è¿˜é¢å¤–æœ‰ä¸€ä¸ª <code>setUserName</code>æ–¹æ³•, ä½†æ™®é€šç©å®¶ä»–ä¸å……é’±å°±ä¸é…æœ‰æ”¹åçš„èƒ½åŠ›ğŸ˜Ÿ</li>
</ol>
<p>åœ¨æ·±å…¥å…¶ä¸­å‰, å…ˆæ¥çœ‹ä¸€çœ‹ä¸€ç›´åœ¨è¯´çš„åŸå‹é“¾æ˜¯é•¿ä»€ä¹ˆæ ·çš„:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">double</span>(<span class="params">num</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double.toString() <span class="comment">// where is this method coming from?</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype <span class="comment">// &#123;toString: f, call: f, bind: f&#125;</span></span><br><span class="line"></span><br><span class="line">double.hasOwnProperty(<span class="string">'name'</span>) <span class="comment">// where is this method coming from?</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype.__proto__ <span class="comment">// -&gt; Object.prototype &#123;hasOwnProperty: f&#125;</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡å‰é¢çš„å†…å®¹, æˆ‘ä»¬å¾—çŸ¥äº†å½“ä¸€ä¸ªå±æ€§åœ¨å¯¹è±¡æœ¬èº«ä¸­ä¸å­˜åœ¨æ—¶, JavaScriptè§£é‡Šå™¨ä¼šåˆ°å¯¹è±¡çš„ <code>__proto__</code> ä¸­æ‰¾è¿™ä¸ªå±æ€§, ä½†å¦‚æœ <code>__proto__</code> æŒ‡å‘çš„å¯¹è±¡ä¹Ÿæ²¡æœ‰è¿™ä¸ªå±æ€§æ€ä¹ˆåŠå‘¢? å…ˆå‰æˆ‘ä»¬è¯´æ˜è¿‡, æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ <code>__proto__</code> å±æ€§, åªè¦è¿™ä¸ªå¯¹è±¡çš„ <code>__proto__</code> çš„æŒ‡å‘ä¸ä¸ºç©º, è§£é‡Šå™¨å°±ä¼šä¸€å±‚ä¸€å±‚åœ°æ‰¾ä¸‹å», ç›´åˆ°æœ€åä¸€ä¸ªå¯¹è±¡çš„ <code>__proto__</code> æŒ‡å‘ä¸ºç©º (<code>Object.prototype.__proto__</code> ä¸ºç©º, å¤§éƒ¨åˆ†éƒ½æ˜¯æ‰¾åˆ°è¿™é‡Œä¸ºæ­¢)</p>
<p>æœ‰ä¸€äº›ç»•å£, æ‰€ä»¥è¿™é‡Œç›´æ¥é€šè¿‡ä¸¤ä¸ªä¾‹å­æ¥è§£é‡Šä¸€ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">double.toString()</span><br></pre></td></tr></table></figure>
<ol>
<li>é¦–å…ˆ, <code>double</code> æœ¬èº«ä¸åŒ…å« <code>toString</code> æ–¹æ³• âœ–ï¸;</li>
<li>å» <code>double.__proto__</code> ä¸­æ‰¾ <code>toString</code>;</li>
<li><code>double.__proto__</code> æŒ‡å‘çš„æ˜¯ <code>Function.prototype</code>, å®ƒåŒ…å«äº† <code>toString</code> æ–¹æ³•, æŸ¥æ‰¾æˆåŠŸ âœ”ï¸;</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">double.hasOwnProperty(<span class="string">'name'</span>)</span><br></pre></td></tr></table></figure>
<ol>
<li><code>double</code> æ²¡æœ‰ <code>hasOwnProperty</code> æ–¹æ³• âœ–ï¸;</li>
<li>å» <code>double.__proto__</code> æ‰¾;</li>
<li><code>double.__proto__</code> æŒ‡å‘çš„æ˜¯ <code>Function.prototype</code>;</li>
<li><code>Function.prototype</code> æ²¡æœ‰ <code>hasOwnProperty</code> æ–¹æ³• âœ–ï¸;</li>
<li>å» <code>Function.prototype.__proto__</code> ä¸­æ‰¾;</li>
<li><code>Function.prototype.__proto__</code> æŒ‡å‘çš„æ˜¯ <code>Object.prototype</code>;</li>
<li><code>Object.prototype</code> åŒ…å«äº† <code>hasOwnProperty</code> æ–¹æ³•, æŸ¥æ‰¾æˆåŠŸ âœ”ï¸;</li>
</ol>
<p>åŸæ–‡ä½œè€…poäº†ä¸€ä¸ªGifæ¥è¡¨ç°è¿™ä¸ªè¿‡ç¨‹:</p>
<p><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ICx1kq90--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/vj4xvfh8h5ycotygt923.gif" alt="åŸå‹é“¾æŸ¥æ‰¾å›¾ç¤º"></p>
<p>è‡³æ­¤, åˆ›å»ºä¸€ä¸ªæ°ªé‡‘ç©å®¶çš„æ€è·¯åœ¨çœ¼å‰åˆæ­¥å½¢æˆäº†, æˆ‘ä»¬å†é€šè¿‡ <strong>å¯¹è±¡å§”æ‰˜æ¨¡å¼</strong>ã€<strong>æ„é€ å‡½æ•°</strong>ã€<strong>ç±»</strong> æ¥å®ç°è¿™ä¸ªéœ€æ±‚, åŒæ—¶è€ƒå¯Ÿä¸€ä¸‹å„ç§æ¨¡å¼çš„ç‰¹æ€§;</p>
<p>ç°åœ¨å¼€å§‹æ·±å…¥æ¢ç´¢ <strong>ç»§æ‰¿</strong> å§ ğŸ’ª</p>
<h3><span id="dui-xiang-wei-tuo-ji-cheng">å¯¹è±¡å§”æ‰˜ - ç»§æ‰¿</span><a href="#dui-xiang-wei-tuo-ji-cheng" class="header-anchor">#</a></h3><p>å¯¹è±¡å§”æ‰˜æ¨¡å¼çš„æ°ªé‡‘ç©å®¶æ¨¡å‹çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> playerFunctions = &#123;</span><br><span class="line">  setScore(newScore) &#123;</span><br><span class="line">    <span class="keyword">this</span>.score = newScore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPlayer</span>(<span class="params">userName, score</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> newPlayer = <span class="built_in">Object</span>.create(playerFunctions);</span><br><span class="line">  newPlayer.userName = userName;</span><br><span class="line">  newPlayer.score = score;</span><br><span class="line">  <span class="keyword">return</span> newPlayer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> paidPlayerFunctions = &#123;</span><br><span class="line">  setUserName(newName) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userName = newName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// link paidPlayerFunctions object to createPlayer object</span></span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(paidPlayerFunctions, playerFunctions);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPaidPlayer</span>(<span class="params">userName, score, balance</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> paidPlayer = createPlayer(name, score);</span><br><span class="line">  <span class="comment">// we need to change the pointer here</span></span><br><span class="line">  <span class="built_in">Object</span>.setPrototypeOf(paidPlayer, paidPlayerFunctions);</span><br><span class="line">  paidPlayer.balance = balance;</span><br><span class="line">  <span class="keyword">return</span> paidPlayer</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = createPlayer(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> paidPlayer = createPaidPlayer(<span class="string">'sag1v'</span>, <span class="number">700</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(player1)</span><br><span class="line"><span class="built_in">console</span>.log(paidPlayer)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºå†…å®¹ä¸º:</span></span><br><span class="line"></span><br><span class="line">player1 &#123;</span><br><span class="line">  userName: <span class="string">"sag1v"</span>,</span><br><span class="line">  score: <span class="number">700</span>,</span><br><span class="line">  __proto__: playerFunctions &#123;</span><br><span class="line">     setScore: Æ’</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">paidPlayer &#123;</span><br><span class="line">  userName: <span class="string">"sarah"</span>,</span><br><span class="line">  score: <span class="number">900</span>,</span><br><span class="line">  balance: <span class="number">5</span>,</span><br><span class="line">  __proto__: paidPlayerFunctions &#123;</span><br><span class="line">    setUserName: Æ’,</span><br><span class="line">    __proto__: playerFunctions &#123;</span><br><span class="line">      setScore: Æ’</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ <code>createPlayer</code> çš„å®ç°æ²¡æœ‰ä»»ä½•å˜åŒ–, è€Œ <code>createPaidPlayer</code> çš„å®ç°éœ€è¦ä¸€äº›å°æŠ€å·§ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨ <code>createPlayer</code> æ¥ä½œä¸º <code>createPaidPlayer</code> é‡Œåˆ›å»ºæ™®é€šç”¨æˆ·çš„å†…å®¹, ä½†è¿™æ ·æ°ªé‡‘ç©å®¶çš„ <code>__proto__</code> å°±é”™è¯¯åœ°æŒ‡å‘äº†æ™®é€šç©å®¶çš„ <code>__proto__</code>, æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>Object.setPrototypeOf</code> æ–¹æ³•æ¥ä¿®å¤å®ƒçš„æŒ‡å‘ã€‚æˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªå¯¹è±¡, ä½œä¸ºæ°ªé‡‘ç©å®¶ä¿®å¤åéœ€è¦æŒ‡å‘ <code>__proto__</code> å¯¹è±¡, ç„¶åå°†å…¶ä½œä¸ºå‚æ•°ä¼ å…¥ <code>Object.setPrototypeOf</code> æ¥è¿›è¡Œä¿®å¤; åœ¨ç¤ºä¾‹ä¸­, è¿™ä¸ªå¯¹è±¡å°±æ˜¯ <code>paidPlayerFunctions</code>ã€‚</p>
<p>ä½†æ­¤æ—¶ç ´åäº†æ°ªé‡‘ç©å®¶ä¸ <code>playerFunctions</code> çš„é“¾æ¥, ä¹Ÿä»£è¡¨ç€å¤±å»äº† <code>setScore</code> èƒ½åŠ›; æ‰€ä»¥éœ€è¦é‡æ–°é€šè¿‡ <code>Object.setPrototypeOf</code> ä¿®å¤ä¸€ä¸‹ <code>paidPlayerFunctions</code> ä¸ <code>playerFunctions</code> çš„é“¾æ¥ã€‚</p>
<p>å¯¹è±¡å§”æ‰˜æ¨¡å¼ä¸­ä¸€ä¸ªä¸¤å±‚çš„åŸå‹é“¾çš„ä»£ç ä»¥åŠæ˜¾å¾—å¤æ‚, å››äº”å±‚çš„åŸå‹é“¾çš„å¤æ‚ç¨‹åº¦å¯æƒ³è€ŒçŸ¥ã€‚</p>
<h3><span id="gou-zao-han-shu-ji-cheng">æ„é€ å‡½æ•° - ç»§æ‰¿</span><a href="#gou-zao-han-shu-ji-cheng" class="header-anchor">#</a></h3><p>ç°åœ¨æ¥è¯•è¯•é€šè¿‡æ„é€ å‡½æ•°æ¥å®ç°ç»§æ‰¿:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Player</span>(<span class="params">userName, score</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.userName = userName;</span><br><span class="line">  <span class="keyword">this</span>.score = score;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Player.prototype.setScore = <span class="function"><span class="keyword">function</span>(<span class="params">newScore</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.score = newScore;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PaidPlayer</span>(<span class="params">userName, score, balance</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  <span class="comment">/* è¿™é‡Œä¸é€šè¿‡ "new" å…³é”®å­—æ¥è°ƒç”¨ "Player"</span></span><br><span class="line"><span class="comment">     æˆ‘ä»¬ä½¿ç”¨ "call" æ–¹æ³•æ¥æ›¿ä»£, è¿™æ ·èƒ½æ”¹å˜ this çš„æŒ‡å‘</span></span><br><span class="line"><span class="comment">     å¹¶ä¸”èƒ½ç»™å„ä¸ªå±æ€§èµ‹å€¼*/</span></span><br><span class="line">  Player.call(<span class="keyword">this</span>, userName, score);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PaidPlayer.prototype.setUserName = <span class="function"><span class="keyword">function</span>(<span class="params">newName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.userName = newName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®Player.prototype ä¸º PaidPlayer.prototype çš„åŸå‹</span></span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(PaidPlayer.prototype, Player.prototype);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = <span class="keyword">new</span> Player(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> paidPlayer = <span class="keyword">new</span> PaidPlayer(<span class="string">'sarah'</span>, <span class="number">900</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(player1)</span><br><span class="line"><span class="built_in">console</span>.log(paidPlayer)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºå¦‚ä¸‹:</span></span><br><span class="line"></span><br><span class="line">Player &#123;</span><br><span class="line">  userName: <span class="string">"sag1v"</span>,</span><br><span class="line">  score: <span class="number">700</span>,</span><br><span class="line">  __proto__: Player.prototype &#123;</span><br><span class="line">    setScore: Æ’</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PaidPlayer &#123;</span><br><span class="line">  userName: <span class="string">"sarah"</span>,</span><br><span class="line">  score: <span class="number">900</span>,</span><br><span class="line">  balance: <span class="number">5</span>,</span><br><span class="line">  __proto__: PaidPlayer.prototype:&#123;</span><br><span class="line">    setUserName: Æ’,</span><br><span class="line">    __proto__: Player.prototype &#123;</span><br><span class="line">      setScore: Æ’</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœé€šè¿‡å·¥å‚æ¨¡å¼, ä¹Ÿèƒ½å¾—åˆ°ç›¸åŒçš„ç»“æœ, è€Œä¸”æœ‰äº›å†…å®¹ç”± <code>new</code> å¸®æˆ‘ä»¬åšäº†, è¿™èƒ½èŠ‚çœå‡ è¡Œä»£ç , ä½†è¿™ä¹Ÿä¼šå¸¦æ¥æ–°çš„æŒ‘æˆ˜ã€‚</p>
<p>é¦–å…ˆç¬¬ä¸€ä¸ªæŒ‘æˆ˜å°±æ˜¯: æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ <code>Player</code> å‡½æ•°æ¥è¡¨ç°åˆå§‹åŒ– <code>Player</code> çš„é€»è¾‘; ä½†è¿™é‡Œçš„å®ç°å´ä¸æ˜¯ä½¿ç”¨ <code>new</code> å…³é”®å­— (ä¸æˆ‘ä»¬çš„ç›´è§‰ç›¸æ‚–), ç¤ºä¾‹é‡Œä½¿ç”¨äº† <code>.call</code> æ–¹æ³•æ¥è°ƒç”¨, è¿™æ ·åšçš„ä¼˜ç‚¹æ˜¯èƒ½æ”¹å˜ <code>Player</code> å†…thisçš„æŒ‡å‘, ä»¥ä¾¿äºå¯¹è±¡å±æ€§çš„åˆå§‹åŒ–, ç¼ºç‚¹æ˜¯ <code>Player</code> ä¸ä½œä¸ºæ„é€ å‡½æ•°å, ä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ–°å¯¹è±¡, ä¹Ÿä¸ä¼šè‡ªåŠ¨ç»‘å®š <code>this</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PaidPlayer</span>(<span class="params">userName, score, balance</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  Player.call(<span class="keyword">this</span>, userName, score);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨ <code>Player</code> æ—¶, å…¶å†…éƒ¨çš„ <code>this</code> æŒ‡å‘äº† <code>PaidPlayer</code>;</p>
<p>å¦ä¸€ä¸ªæŒ‘æˆ˜æ˜¯, éœ€è¦å°† <code>PaidPlayer</code> æ‰€è¿”å›çš„å®ä¾‹, é“¾æ¥åˆ° <code>Player</code> çš„å®ä¾‹ä¸Š, æˆ‘ä»¬ä½¿ç”¨ <code>Object.setPrototypeOf</code> å°† <code>Player.prototype</code> è®¾ç½®ä¸º <code>PaidPlayer.prototype</code> çš„åŸå‹;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.setPrototypeOf(PaidPlayer.prototype, Player.prototype);</span><br></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼ŒJavaScriptè§£é‡Šå™¨ä¸ºæˆ‘ä»¬åšçš„äº‹æƒ…è¶Šå¤šï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™çš„ä»£ç å°±è¶Šå°‘ï¼Œä½†æ˜¯éšç€æŠ½è±¡ç¨‹åº¦çš„å¢åŠ ï¼Œæˆ‘ä»¬ç†è§£JavaScriptè§£é‡Šå™¨ä¸­æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ä¼šæ›´å›°éš¾ä¸€äº›ã€‚</p>
<h3><span id="lei-ji-cheng">ç±» - ç»§æ‰¿</span><a href="#lei-ji-cheng" class="header-anchor">#</a></h3><p>ä½¿ç”¨ç±»ï¼ŒæŠ½è±¡ç¨‹åº¦èƒ½å˜å¾—æ›´é«˜ï¼Œè¿™ä»£è¡¨ç€æ›´å°‘çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(userName, score) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    <span class="keyword">this</span>.score = score;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setScore(newScore) &#123;</span><br><span class="line">    <span class="keyword">this</span>.score = newScore;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PaidPlayer</span> <span class="keyword">extends</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(userName, score, balance) &#123;</span><br><span class="line">    <span class="keyword">super</span>(userName, score);</span><br><span class="line">    <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setUserName(newName) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userName = newName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> player1 = <span class="keyword">new</span> Player(<span class="string">'sag1v'</span>, <span class="number">700</span>);</span><br><span class="line"><span class="keyword">const</span> paidPlayer = <span class="keyword">new</span> PaidPlayer(<span class="string">'sarah'</span>, <span class="number">900</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(player1)</span><br><span class="line"><span class="built_in">console</span>.log(paidPlayer)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºå¦‚ä¸‹: </span></span><br><span class="line"></span><br><span class="line">Player &#123;</span><br><span class="line">  userName: <span class="string">"sag1v"</span>,</span><br><span class="line">  score: <span class="number">700</span>,</span><br><span class="line">  __proto__: Player.prototype &#123;</span><br><span class="line">    setScore: Æ’</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PaidPlayer &#123;</span><br><span class="line">  userName: <span class="string">"sarah"</span>,</span><br><span class="line">  score: <span class="number">900</span>,</span><br><span class="line">  balance: <span class="number">5</span>,</span><br><span class="line">  __proto__: PaidPlayer.prototype:&#123;</span><br><span class="line">    setUserName: Æ’,</span><br><span class="line">    __proto__: Player.prototype &#123;</span><br><span class="line">      setScore: Æ’</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±ä¸Šå¯è§, ç±»åªæ˜¯æ„é€ å‡½æ•°çš„ä¸€ç§è¯­æ³•ç³–ğŸ¤”</p>
<p>å¼•ç”¨è‡ªæ–‡æ¡£: </p>
<blockquote>
<p>JavaScript classes, introduced in ECMAScript 2015, are <strong>primarily</strong> syntactical sugar over JavaScriptâ€™s existing prototype-based inheritanceâ€¦</p>
</blockquote>
<p>å½“ä½¿ç”¨ <code>extends</code> å…³é”®å­—æ—¶, ä¸ºä»€ä¹ˆéœ€è¦ <code>super</code> å‡½æ•°å‘¢?</p>
<p>å›å¿†ä¸€ä¸‹æ„é€ å‡½æ•°ç« èŠ‚çš„è¿™ä¸€è¡Œâ€å¥‡æ€ªâ€ä»£ç :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Player.call(<span class="keyword">this</span>, userName, score)</span><br></pre></td></tr></table></figure>
<p>å—¯, <code>super(userName, score)</code> å°±æ˜¯åœ¨æ¨¡æ‹Ÿè¿™è¡Œä»£ç ã€‚</p>
<p>æˆ‘ä»¬æè¿°çš„æ›´å‡†ç¡®ä¸€äº›: å®ƒä½¿ç”¨äº†ES2015å¼•å…¥çš„æ–°åŠŸèƒ½ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect/construct" target="_blank" rel="noopener">Reflect.construct</a></p>
<p>å¼•ç”¨è‡ªæ–‡æ¡£:</p>
<blockquote>
<p>The static Reflect.construct() method acts like the new operator, but as a function. It is equivalent to calling new target(â€¦args). It gives also the added option to specify a different prototype.</p>
</blockquote>
<p>ç”±æ­¤ä»¥æ¥, æˆ‘ä»¬å°±ä¸éœ€è¦æ‰‹åŠ¨å»â€hackâ€æ„é€ å‡½æ•°äº†, è€Œåœ¨JavaScriptè§£é‡Šå™¨ä¸­, <code>super</code> æ˜¯é€šè¿‡ <code>Reflect.construct</code> å®ç°çš„ã€‚åŒæ—¶æœ‰ä¸€æ¡é‡è¦çš„æç¤º: å½“ <code>extends</code> ä¸€ä¸ªç±»æ—¶, åœ¨ <code>constructor</code> é‡Œ, åœ¨ <code>super</code> å‡½æ•°æ‰§è¡Œå‰ä¸èƒ½ä½¿ç”¨ <code>this</code>, å› ä¸ºæ­¤æ—¶çš„ <code>this</code> è¿˜æœªåˆå§‹åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PaidPlayer</span> <span class="keyword">extends</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(userName, score, balance) &#123;</span><br><span class="line">    <span class="keyword">super</span>(userName, score);</span><br><span class="line">    <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setUserName(newName) &#123;</span><br><span class="line">    <span class="keyword">this</span>.userName = newName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="zong-jie">æ€»ç»“</span><a href="#zong-jie" class="header-anchor">#</a></h2><p>æˆ‘ä»¬å­¦ä¹ äº†å‡ ç§ <strong>é“¾æ¥å¯¹è±¡/æ•°æ®èµ‹å€¼/ç»‘å®šé€»è¾‘ å¹¶å°†å…¶é›†ä¸­åˆ°ä¸€èµ·</strong> çš„æ–¹æ³•, æˆ‘ä»¬ä¹Ÿäº†è§£åˆ°äº† <code>JavaScript/åŸå‹é“¾/å¤šå±‚åŸå‹é“¾</code> çš„ â€œç»§æ‰¿â€ã€‚</p>
<p>ç»è¿‡å„ç§ä¾‹å­çš„å†ä¸‰ä½“ä¼šï¼Œè¶Šæ˜¯æŠ½è±¡ï¼Œæˆ‘ä»¬å°±ä¼šå¾—åˆ°æ›´å¤šçš„ â€œä¸œè¥¿â€, è¶Šå°‘çš„ä»£ç ï¼Œä½†è¿™ä½¿æˆ‘ä»¬æ›´éš¾è·Ÿè¸ªä»£ç çš„å˜åŒ–ã€‚</p>
<p>æ¯ä¸€ç§æ¨¡å¼éƒ½æœ‰å…¶æœ‰ç‚¹å’Œç¼ºç‚¹:</p>
<ul>
<li><code>Object.create</code> éœ€è¦å†™æ›´å¤šçš„ä»£ç , åœ¨å¤šå±‚ç»§æ‰¿ä¸­æ˜¾å¾—å¤æ‚ä¸”æ— èŠ, ä½†èƒ½å¾—åˆ°å¯¹è±¡ä¸Šæ›´ç»†ç²’åº¦çš„æ§åˆ¶;</li>
<li>æ„é€ å‡½æ•°èƒ½é€šè¿‡JavaScriptè‡ªåŠ¨èµ‹å€¼, ä½†ä»£ç å¯èƒ½ä¼šæœ‰äº›åå¸¸, è¿˜éœ€è¦å¯¹è°ƒç”¨æ˜¯å¦é€šè¿‡ <code>new</code> çš„éªŒè¯, å¦åˆ™ä¼šé‡åˆ°ä¸€äº›å¥‡æ€ªçš„Bug, å¤šå±‚ç»§æ‰¿åŒæ ·ä¸æ˜¯å¾ˆä¹è§‚;</li>
<li>ä½¿ç”¨ç±»ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æ›´ç®€æ´çš„è¯­æ³•ï¼Œå¹¶æœ‰äº† <code>new</code> è°ƒç”¨çš„å†…ç½®æ£€æŸ¥ã€‚å½“ â€œç»§æ‰¿â€ æ—¶ï¼Œç±»ç”±äºå…¶è¯­æ³•ç³–ç‰¹æ€§æœ€å¸å¼•äººï¼Œåªéœ€ä½¿ç”¨ <code>extended</code> å…³é”®å­—å¹¶è°ƒç”¨ <code>super()</code>ï¼Œè€Œä¸ä¼šåƒå…¶ä»–æ–¹æ³•é‚£æ ·é™·å…¥å¾ªç¯ã€‚è¯­æ³•ä¹Ÿæ›´æ¥è¿‘äºå…¶ä»–è¯­è¨€ï¼Œå¹¶ä¸”æ¯”è¾ƒå®¹æ˜“å­¦ä¹ ã€‚è€ŒJavascriptçš„ç±»ä¸å…¶ä»–è¯­è¨€ä¸­çš„ç±»éå¸¸ä¸åŒï¼Œå®ƒä»ç„¶ä½¿ç”¨æ—§çš„â€œåŸå‹ç»§æ‰¿â€ï¼Œä¸Šé¢æœ‰å¾ˆå¤šæŠ½è±¡å±‚, è¿™æ ·åº”è¯¥æ˜¯å®ƒçš„ç¼ºç‚¹äº†å§ã€‚</li>
</ul>
<h2><span id="yi-zhe-zhu">è¯‘è€…æ³¨</span><a href="#yi-zhe-zhu" class="header-anchor">#</a></h2><p>åŸä½œè€…çš„æ›´å¤šæ–‡ç« è¯·è®¿é—® <a href="https://www.debuggr.io/" target="_blank" rel="noopener">debuggr.io</a></p>
<p>å…³äºåŸå‹é“¾, æœ¬æ–‡åŸä½œè€…çš„å¿ƒæ™ºæ¨¡å‹ä¸ <a href="https://zhuanlan.zhihu.com/p/87667349" target="_blank" rel="noopener">å·¥ä¸šèš - æ·±å…¥ç†è§£ JavaScript åŸå‹</a> æ‰€è¿°åŸºæœ¬æ˜¯ä¸åŒçš„, å»ºè®®åŒæ—¶å‚é˜…å·¥ä¸šèšçš„æ–‡ç« , æ¥ä»ä¸€ä¸ªæ›´å¹¿çš„è§†è§’å’Œæ›´ç»†èŠ‚çš„å®ç°æ¥çœ‹å¾…å’Œå­¦ä¹ åŸå‹é“¾ã€‚</p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/30/è®¡ç®—æœºç³»ç»Ÿ-day-1-md/" rel="next" title="è®¡ç®—æœºç³»ç»Ÿ-day-1.md">
                <i class="fa fa-chevron-left"></i> è®¡ç®—æœºç³»ç»Ÿ-day-1.md
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/12/08/Restä¸GraphQLçš„å¯¹æ¯”/" rel="prev" title="Restä¸GraphQLçš„å¯¹æ¯”ï¼ˆè¯‘ï¼‰">
                Restä¸GraphQLçš„å¯¹æ¯”ï¼ˆè¯‘ï¼‰ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://avatars0.githubusercontent.com/u/21300991?s=460&v=4" alt="biglion">
            
              <p class="site-author-name" itemprop="name">biglion</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/Big7lion" title="GitHub &rarr; https://github.com/Big7lion" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:biglion77@outlook.com" title="E-Mail &rarr; mailto:biglion77@outlook.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">1.</span> <span class="nav-text">ç›®å½•#</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">2.</span> <span class="nav-text">ç®€ä»‹#</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">3.</span> <span class="nav-text">æˆ‘ä»¬çš„ç›®æ ‡#</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">4.</span> <span class="nav-text">å¯¹è±¡#</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">4.1.</span> <span class="nav-text">Object Literal å¯¹è±¡å­—é¢é‡#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">4.2.</span> <span class="nav-text">Object.create#</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">5.</span> <span class="nav-text">æ›´åŠ è‡ªåŠ¨åŒ–#</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">5.1.</span> <span class="nav-text">Factory Functions å·¥å‚å‡½æ•°#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">5.2.</span> <span class="nav-text">OLOO - Objects Linked To Other Objects å¯¹è±¡å§”æ‰˜#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">5.3.</span> <span class="nav-text">new æ“ä½œç¬¦ä¸æ„é€ å‡½æ•°#</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#undefined"><span class="nav-number">5.3.1.</span> <span class="nav-text">prototype å±æ€§#</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#undefined"><span class="nav-number">5.3.2.</span> <span class="nav-text">é€è¡Œåˆ†æä¸€ä¸‹ä»£ç #</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">6.</span> <span class="nav-text">Class#</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">6.1.</span> <span class="nav-text">å£°æ˜ä¸€ä¸ªç±»#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">6.2.</span> <span class="nav-text">å†™ä¸€ä¸ªconstructor#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">6.3.</span> <span class="nav-text">ä¸º ç±» æ·»åŠ å‡½æ•°#</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">7.</span> <span class="nav-text">ç»§æ‰¿#</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">7.1.</span> <span class="nav-text">å¯¹è±¡å§”æ‰˜ - ç»§æ‰¿#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">7.2.</span> <span class="nav-text">æ„é€ å‡½æ•° - ç»§æ‰¿#</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">7.3.</span> <span class="nav-text">ç±» - ç»§æ‰¿#</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">8.</span> <span class="nav-text">æ€»ç»“#</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#undefined"><span class="nav-number">9.</span> <span class="nav-text">è¯‘è€…æ³¨#</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">biglion</span>

  

  
</div>


  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.8.0</div>








        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>




  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  

  

  

</body>
</html>
